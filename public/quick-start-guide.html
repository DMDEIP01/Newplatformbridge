<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EIP Care Portal - Quick Start & Demo Guide</title>
  <style>
    @media print {
      .no-print { display: none; }
      body { font-size: 11pt; }
      h1 { page-break-before: avoid; }
      h2 { page-break-before: always; }
      h2:first-of-type { page-break-before: avoid; }
      table { page-break-inside: avoid; }
      pre { page-break-inside: avoid; }
    }
    
    * { box-sizing: border-box; }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
      color: #333;
      background: #fff;
    }
    
    .header {
      text-align: center;
      border-bottom: 3px solid #e11d48;
      padding-bottom: 20px;
      margin-bottom: 40px;
    }
    
    .header h1 {
      color: #e11d48;
      margin-bottom: 10px;
      font-size: 2.5em;
    }
    
    .header .subtitle {
      color: #666;
      font-size: 1.1em;
    }
    
    .header .version {
      color: #999;
      font-size: 0.9em;
      margin-top: 10px;
    }
    
    .print-button {
      position: fixed;
      top: 20px;
      right: 20px;
      background: #e11d48;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 4px 12px rgba(225, 29, 72, 0.3);
    }
    
    .print-button:hover {
      background: #be123c;
    }
    
    h2 {
      color: #e11d48;
      border-bottom: 2px solid #fecdd3;
      padding-bottom: 10px;
      margin-top: 40px;
    }
    
    h3 {
      color: #1f2937;
      margin-top: 30px;
    }
    
    h4 {
      color: #4b5563;
      margin-top: 20px;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      font-size: 0.9em;
    }
    
    th, td {
      border: 1px solid #e5e7eb;
      padding: 10px 12px;
      text-align: left;
    }
    
    th {
      background: #f9fafb;
      font-weight: 600;
      color: #374151;
    }
    
    tr:nth-child(even) {
      background: #f9fafb;
    }
    
    pre {
      background: #1f2937;
      color: #e5e7eb;
      padding: 16px;
      border-radius: 8px;
      overflow-x: auto;
      font-size: 0.85em;
    }
    
    code {
      background: #f3f4f6;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.9em;
    }
    
    .architecture-box {
      background: #f8fafc;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      font-family: monospace;
      font-size: 0.85em;
      white-space: pre;
      overflow-x: auto;
    }
    
    .value-table th:first-child {
      width: 25%;
    }
    
    .checklist {
      list-style: none;
      padding: 0;
    }
    
    .checklist li {
      padding: 8px 0 8px 30px;
      position: relative;
    }
    
    .checklist li::before {
      content: "â˜";
      position: absolute;
      left: 0;
      color: #e11d48;
      font-size: 1.2em;
    }
    
    .scenario-box {
      background: #fef2f2;
      border-left: 4px solid #e11d48;
      padding: 15px 20px;
      margin: 15px 0;
      border-radius: 0 8px 8px 0;
    }
    
    .scenario-box h4 {
      margin-top: 0;
      color: #be123c;
    }
    
    .workflow-diagram {
      background: #f0fdf4;
      border: 2px solid #86efac;
      border-radius: 12px;
      padding: 20px;
      margin: 20px 0;
      font-family: monospace;
      font-size: 0.85em;
      white-space: pre;
      overflow-x: auto;
      text-align: center;
    }
    
    .ai-feature {
      background: #eff6ff;
      border: 1px solid #bfdbfe;
      border-radius: 12px;
      padding: 20px;
      margin: 15px 0;
    }
    
    .ai-feature h4 {
      margin-top: 0;
      color: #1d4ed8;
    }
    
    .troubleshooting-table td:first-child {
      width: 35%;
      font-weight: 500;
    }
    
    .toc {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 20px 30px;
      margin: 30px 0;
    }
    
    .toc h3 {
      margin-top: 0;
      color: #1f2937;
    }
    
    .toc ol {
      margin: 0;
      padding-left: 20px;
    }
    
    .toc li {
      padding: 5px 0;
    }
    
    .toc a {
      color: #e11d48;
      text-decoration: none;
    }
    
    .toc a:hover {
      text-decoration: underline;
    }
    
    .center { text-align: center; }
    
    .footer {
      margin-top: 60px;
      padding-top: 20px;
      border-top: 2px solid #e5e7eb;
      text-align: center;
      color: #6b7280;
      font-size: 0.9em;
    }
  </style>
</head>
<body>
  <button class="print-button no-print" onclick="window.print()">ğŸ“„ Save as PDF</button>
  
  <div class="header">
    <h1>EIP Care Portal</h1>
    <div class="subtitle">Quick Start & Demo Guide</div>
    <div class="version">Version 1.0 | December 2024</div>
  </div>
  
  <div class="toc">
    <h3>Table of Contents</h3>
    <ol>
      <li><a href="#executive-summary">Executive Summary</a></li>
      <li><a href="#quick-setup">Quick Setup Checklist</a></li>
      <li><a href="#demo-walkthrough">Demo Walkthrough by Portal</a></li>
      <li><a href="#feature-matrix">Feature Matrix</a></li>
      <li><a href="#role-guide">Role-Based Access Guide</a></li>
      <li><a href="#ai-features">AI Features Showcase</a></li>
      <li><a href="#integrations">Integration Points</a></li>
      <li><a href="#workflows">Common Workflows</a></li>
      <li><a href="#troubleshooting">Troubleshooting Tips</a></li>
    </ol>
  </div>

  <h2 id="executive-summary">1. Executive Summary</h2>
  
  <h3>What is EIP Care Portal?</h3>
  <p>EIP Care Portal is a comprehensive <strong>insurance and warranty management platform</strong> designed to streamline the entire lifecycle of product protection plans - from policy sales through claims processing to customer service.</p>
  
  <h3>Platform Architecture</h3>
  <div class="architecture-box">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        EIP CARE PORTAL                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CUSTOMER       â”‚  RETAIL / BACKOFFICE    â”‚  PROGRAM CONFIGURATION  â”‚
â”‚  PORTAL         â”‚  PORTAL                 â”‚  PORTAL                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ View Policies â”‚ â€¢ Policy Sales          â”‚ â€¢ Program Management    â”‚
â”‚ â€¢ Submit Claims â”‚ â€¢ Claims Processing     â”‚ â€¢ Product Configuration â”‚
â”‚ â€¢ Track Status  â”‚ â€¢ Customer Management   â”‚ â€¢ Peril Rules           â”‚
â”‚ â€¢ Documents     â”‚ â€¢ Complaint Handling    â”‚ â€¢ Repairer Network      â”‚
â”‚ â€¢ Complaints    â”‚ â€¢ Repairer Jobs         â”‚ â€¢ User Management       â”‚
â”‚ â€¢ Service Req.  â”‚ â€¢ Reports & Analytics   â”‚ â€¢ Communications        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</div>

  <h3>Key Value Propositions</h3>
  <table class="value-table">
    <tr><th>Capability</th><th>Description</th></tr>
    <tr><td><strong>Multi-Tenant</strong></td><td>Support multiple insurance programs with isolated data</td></tr>
    <tr><td><strong>AI-Powered</strong></td><td>Automated damage analysis, receipt OCR, smart recommendations</td></tr>
    <tr><td><strong>End-to-End</strong></td><td>Complete workflow from policy sale to claim fulfillment</td></tr>
    <tr><td><strong>Role-Based</strong></td><td>10 distinct user roles with granular permissions</td></tr>
    <tr><td><strong>Configurable</strong></td><td>Flexible product rules, pricing tiers, and coverage options</td></tr>
    <tr><td><strong>Integrated</strong></td><td>Email notifications, document storage, repairer coordination</td></tr>
  </table>

  <h2 id="quick-setup">2. Quick Setup Checklist</h2>
  
  <h3>Prerequisites</h3>
  <ul class="checklist">
    <li>Supabase project created (or Lovable Cloud enabled)</li>
    <li>Database migrations executed (CONSOLIDATED_MIGRATION.sql)</li>
    <li>Edge functions deployed</li>
    <li>Required secrets configured: SENDGRID_API_KEY, LOVABLE_API_KEY, APP_URL</li>
  </ul>
  
  <h3>Setup Steps</h3>
  <table>
    <tr><th>Step</th><th>Action</th><th>URL</th></tr>
    <tr><td>1. Seed Demo Data</td><td>Populate programs, products, devices, templates</td><td>/seed-data</td></tr>
    <tr><td>2. Create Admin User</td><td>Create first system administrator</td><td>/setup-system-admin</td></tr>
    <tr><td>3. Seed Retail Data</td><td>Create sample customers, policies, claims</td><td>/seed-retail-data</td></tr>
    <tr><td>4. Access Portals</td><td>Login to respective portals</td><td>See below</td></tr>
  </table>
  
  <h3>Portal Access URLs</h3>
  <table>
    <tr><th>Portal</th><th>URL</th><th>Purpose</th></tr>
    <tr><td>Customer Portal</td><td>/auth (Login)</td><td>Customer self-service</td></tr>
    <tr><td>Retail Portal</td><td>/retail</td><td>Staff operations</td></tr>
    <tr><td>Admin Portal</td><td>/programs</td><td>System configuration</td></tr>
  </table>

  <h2 id="demo-walkthrough">3. Demo Walkthrough by Portal</h2>
  
  <h3>Customer Portal Demo (5 Scenarios)</h3>
  
  <div class="scenario-box">
    <h4>Scenario 1: Customer Registration & Login</h4>
    <ol>
      <li>Navigate to /auth</li>
      <li>Click "Sign Up" tab</li>
      <li>Enter email, password, and full name</li>
      <li>Submit and verify email (auto-confirmed in dev mode)</li>
      <li>Login with credentials</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 2: View Policies & Documents</h4>
    <ol>
      <li>After login, view the Dashboard</li>
      <li>Navigate to "My Policies" to see active protection plans</li>
      <li>Click a policy to view coverage, device details, documents</li>
      <li>Download documents (IPID, Terms, Schedule) as needed</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 3: Submit a Claim</h4>
    <ol>
      <li>From a policy, click "Make a Claim"</li>
      <li>Select claim type: Breakdown, Damage, or Theft</li>
      <li>Complete multi-step form (Device â†’ Photos â†’ Fault Details â†’ Documents)</li>
      <li>Submit and receive claim reference number</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 4: Track Claim Status</h4>
    <ol>
      <li>Navigate to "My Claims"</li>
      <li>View claim status progression</li>
      <li>View AI damage analysis results</li>
      <li>Upload additional documents if requested</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 5: Raise a Service Request</h4>
    <ol>
      <li>Navigate to "Service Request"</li>
      <li>Select reason and policy (if applicable)</li>
      <li>Describe your query and submit</li>
      <li>Track responses via chat interface</li>
    </ol>
  </div>

  <h3>Retail/BackOffice Portal Demo (8 Scenarios)</h3>
  
  <p><strong>Access:</strong> Navigate to /retail, select a role, enter PIN (default: 1234)</p>
  
  <div class="scenario-box">
    <h4>Scenario 1: Create a Policy Sale (Consultant)</h4>
    <ol>
      <li>Navigate to "Sales"</li>
      <li>Fill customer details (name, email, phone, address)</li>
      <li>Select product and coverage tier</li>
      <li>Specify device details (category, manufacturer, model, purchase info)</li>
      <li>Apply promotion code (optional)</li>
      <li>Generate policy documents and complete sale</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 2: Policy Search & Management</h4>
    <ol>
      <li>Navigate to "Policy Search"</li>
      <li>Search by policy number, customer name/email, or phone</li>
      <li>View policy details, claims, payments, communications</li>
      <li>Actions: Edit customer, Cancel policy, Switch product, Add notes</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 3: Process a Claim (Claims Agent)</h4>
    <ol>
      <li>Navigate to "Claims Management"</li>
      <li>View claims queue with SLA indicators</li>
      <li>Review claim details, photos, AI analysis</li>
      <li>Make decision: Accept, Reject, or Refer</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 4: Manage Claim Fulfillment</h4>
    <ol>
      <li>From accepted claim, click "Manage Fulfillment"</li>
      <li>Select method: Repair, Voucher, Replacement, or Cash</li>
      <li>For repairs: Select repairer, book inspection, track progress, record costs</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 5: Handle a Complaint (Complaints Agent)</h4>
    <ol>
      <li>Navigate to "Complaints Management"</li>
      <li>Review complaint details and related policy/claim</li>
      <li>Add investigation notes, assign classification</li>
      <li>Record resolution and send response</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 6: Repairer Job Management (Repairer Agent)</h4>
    <ol>
      <li>Navigate to "Repairer Jobs"</li>
      <li>View assigned repair jobs</li>
      <li>Upload inspection photos, submit quote</li>
      <li>Record repair outcome and cost breakdown</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 7: Service Request Handling</h4>
    <ol>
      <li>Navigate to "Service Request"</li>
      <li>View incoming customer queries</li>
      <li>Use AI-powered chat to respond</li>
      <li>Mark requests as resolved</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 8: View Reports & Analytics</h4>
    <ol>
      <li>Navigate to "Reports"</li>
      <li>View sales performance, claims statistics, SLA compliance</li>
      <li>Export data for analysis</li>
    </ol>
  </div>

  <h3>Program Configuration Portal Demo (6 Scenarios)</h3>
  
  <p><strong>Access:</strong> Navigate to /programs, login as System Administrator</p>
  
  <div class="scenario-box">
    <h4>Scenario 1: Create a New Program</h4>
    <ol>
      <li>Click "Create Program"</li>
      <li>Enter program name and description</li>
      <li>Configure data isolation and reference number formats</li>
      <li>Save program</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 2: Configure Products</h4>
    <ol>
      <li>Select a program, navigate to "Products" tab</li>
      <li>Create products with pricing tiers, excess amounts, device price ranges</li>
      <li>Configure eligibility, validity, and renewal rules</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 3: Set Up Perils & Coverage</h4>
    <ol>
      <li>Navigate to "Perils" tab</li>
      <li>Create peril definitions (Accidental Damage, Breakdown, Theft, etc.)</li>
      <li>Configure acceptance logic, rejection terms, evidence requirements</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 4: Manage Device Catalog</h4>
    <ol>
      <li>Navigate to /device-details</li>
      <li>View/edit categories, manufacturers, models</li>
      <li>Set RRP and trade-in values, promotional eligibility</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 5: Configure Repairer Network</h4>
    <ol>
      <li>Navigate to "Repairers" tab</li>
      <li>Add repairer companies with contact details and specializations</li>
      <li>Configure SLAs and fulfillment assignments</li>
    </ol>
  </div>
  
  <div class="scenario-box">
    <h4>Scenario 6: Manage Users & Permissions</h4>
    <ol>
      <li>Navigate to "Users" tab</li>
      <li>Create user accounts with roles and program access</li>
      <li>Configure user groups and section permissions</li>
    </ol>
  </div>

  <h2 id="feature-matrix">4. Feature Matrix</h2>
  
  <table>
    <tr>
      <th>Feature</th>
      <th class="center">Customer</th>
      <th class="center">Retail</th>
      <th class="center">Admin</th>
      <th>Roles</th>
    </tr>
    <tr><td>View Policies</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td><td>All</td></tr>
    <tr><td>Policy Documents</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td><td>All</td></tr>
    <tr><td>Submit Claims</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">-</td><td>Customer, Consultant</td></tr>
    <tr><td>Process Claims</td><td class="center">-</td><td class="center">âœ…</td><td class="center">-</td><td>Claims Agent, Backoffice</td></tr>
    <tr><td>Claim Fulfillment</td><td class="center">-</td><td class="center">âœ…</td><td class="center">-</td><td>Claims Agent, Repairer</td></tr>
    <tr><td>Create Policies</td><td class="center">-</td><td class="center">âœ…</td><td class="center">-</td><td>Consultant, Retail Agent</td></tr>
    <tr><td>Cancel Policies</td><td class="center">-</td><td class="center">âœ…</td><td class="center">-</td><td>Backoffice Agent</td></tr>
    <tr><td>Submit Complaints</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">-</td><td>Customer, Consultant</td></tr>
    <tr><td>Handle Complaints</td><td class="center">-</td><td class="center">âœ…</td><td class="center">-</td><td>Complaints Agent</td></tr>
    <tr><td>Service Requests</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">-</td><td>All</td></tr>
    <tr><td>View Reports</td><td class="center">-</td><td class="center">âœ…</td><td class="center">âœ…</td><td>Backoffice, Admin</td></tr>
    <tr><td>Program Config</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td><td>System Admin</td></tr>
    <tr><td>Product Config</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td><td>Admin</td></tr>
    <tr><td>User Management</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td><td>System Admin</td></tr>
    <tr><td>Repairer Jobs</td><td class="center">-</td><td class="center">âœ…</td><td class="center">-</td><td>Repairer Agent</td></tr>
  </table>

  <h2 id="role-guide">5. Role-Based Access Guide</h2>
  
  <h3>Role Definitions</h3>
  <table>
    <tr><th>Role</th><th>Code</th><th>Description</th><th>Portal Access</th></tr>
    <tr><td>Customer</td><td>customer</td><td>End-user with policies</td><td>Customer Portal</td></tr>
    <tr><td>Consultant</td><td>consultant</td><td>Sales representative</td><td>Retail Portal (Sales)</td></tr>
    <tr><td>Retail Agent</td><td>retail_agent</td><td>Store staff</td><td>Retail Portal (Sales, Search)</td></tr>
    <tr><td>Claims Agent</td><td>claims_agent</td><td>Claims processor</td><td>Retail Portal (Claims)</td></tr>
    <tr><td>Complaints Agent</td><td>complaints_agent</td><td>Complaint handler</td><td>Retail Portal (Complaints)</td></tr>
    <tr><td>Repairer Agent</td><td>repairer_agent</td><td>Repair technician</td><td>Retail Portal (Jobs)</td></tr>
    <tr><td>Backoffice Agent</td><td>backoffice_agent</td><td>Full operations</td><td>Retail Portal (All)</td></tr>
    <tr><td>Commercial Agent</td><td>commercial_agent</td><td>Partner manager</td><td>Retail Portal (Reports)</td></tr>
    <tr><td>Admin</td><td>admin</td><td>Program admin</td><td>Admin Portal</td></tr>
    <tr><td>System Admin</td><td>system_admin</td><td>Full system access</td><td>All Portals</td></tr>
  </table>
  
  <h3>Section Permissions (Retail Portal)</h3>
  <table>
    <tr>
      <th>Section</th>
      <th class="center">Consultant</th>
      <th class="center">Retail</th>
      <th class="center">Claims</th>
      <th class="center">Complaints</th>
      <th class="center">Repairer</th>
      <th class="center">Backoffice</th>
    </tr>
    <tr><td>Dashboard</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td></tr>
    <tr><td>Sales</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">-</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td></tr>
    <tr><td>Policy Search</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">-</td><td class="center">âœ…</td></tr>
    <tr><td>Make Claim</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td></tr>
    <tr><td>Claims Management</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td></tr>
    <tr><td>Complaints Mgmt</td><td class="center">-</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td><td class="center">-</td><td class="center">âœ…</td></tr>
    <tr><td>Repairer Jobs</td><td class="center">-</td><td class="center">-</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td><td class="center">âœ…</td></tr>
    <tr><td>Service Request</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">âœ…</td><td class="center">-</td><td class="center">âœ…</td></tr>
    <tr><td>Reports</td><td class="center">-</td><td class="center">-</td><td class="center">-</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td></tr>
    <tr><td>Consultants</td><td class="center">-</td><td class="center">-</td><td class="center">-</td><td class="center">-</td><td class="center">-</td><td class="center">âœ…</td></tr>
  </table>

  <h2 id="ai-features">6. AI Features Showcase</h2>
  
  <div class="ai-feature">
    <h4>1. Damage Photo Analysis</h4>
    <p><strong>Function:</strong> analyze-damage</p>
    <p>Analyzes uploaded claim photos to detect damage type and severity, identify affected components, estimate repair complexity, and flag potential fraud indicators.</p>
  </div>
  
  <div class="ai-feature">
    <h4>2. Receipt OCR & Validation</h4>
    <p><strong>Function:</strong> analyze-receipt</p>
    <p>Extracts store name, date, product description, purchase price, and serial/model numbers from purchase receipts. Validates receipt date, price limits, and device matching.</p>
  </div>
  
  <div class="ai-feature">
    <h4>3. Device Recognition</h4>
    <p><strong>Function:</strong> analyze-device</p>
    <p>Identifies manufacturer and model from device photos, assesses condition, matches against device catalog, and suggests appropriate coverage tier.</p>
  </div>
  
  <div class="ai-feature">
    <h4>4. Fulfillment Recommendations</h4>
    <p><strong>Function:</strong> claims-fulfillment-advisor</p>
    <p>Provides AI-powered recommendations for optimal fulfillment method, repairer selection, cost-benefit analysis, and settlement amounts.</p>
  </div>
  
  <div class="ai-feature">
    <h4>5. Service Agent Chatbot</h4>
    <p><strong>Function:</strong> service-agent</p>
    <p>Conversational AI for policy information queries, claim status updates, FAQ responses, and escalation to human agents.</p>
  </div>

  <h2 id="integrations">7. Integration Points</h2>
  
  <h3>Email Notifications (SendGrid/Resend)</h3>
  <p><strong>Trigger Points:</strong> Policy creation, claim status updates, document requests, complaint responses, payment reminders</p>
  <p><strong>Features:</strong> Configurable templates per product, branded with program logo, multi-language support</p>
  
  <h3>Document Storage</h3>
  <table>
    <tr><th>Bucket</th><th>Contents</th></tr>
    <tr><td>policy-documents</td><td>Generated PDFs (IPID, Terms, Schedule)</td></tr>
    <tr><td>claim-photos</td><td>Customer uploaded damage photos</td></tr>
    <tr><td>receipts</td><td>Purchase evidence</td></tr>
    <tr><td>repairer-reports</td><td>Inspection photos and reports</td></tr>
  </table>
  
  <h3>Payment Recording</h3>
  <p><strong>Types:</strong> Premium payments, excess payments, settlement payouts</p>
  <p><strong>Features:</strong> Stripe-compatible structure, status tracking, refund handling</p>
  
  <h3>Repairer Network</h3>
  <p><strong>Features:</strong> Automated job assignment, SLA monitoring, quote submission, cost tracking, performance metrics</p>

  <h2 id="workflows">8. Common Workflows</h2>
  
  <h3>Policy Lifecycle</h3>
  <div class="workflow-diagram">PENDING â”€â”€â”€â”€â”€â”€â–¶ ACTIVE â”€â”€â”€â”€â”€â”€â–¶ EXPIRED
                    â”‚
                    â–¼
               CANCELLED</div>
  <p><strong>Key Actions:</strong> Policy created â†’ Documents generated â†’ Email sent â†’ Renewal reminder â†’ Cancellation with refund calculation</p>
  
  <h3>Claim Lifecycle</h3>
  <div class="workflow-diagram">NOTIFIED â”€â”€â”€â”€â”€â”€â–¶ ACCEPTED â”€â”€â”€â”€â”€â”€â–¶ FULFILLMENT â”€â”€â”€â”€â”€â”€â–¶ CLOSED
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â–¶ REJECTED
    â”‚
    â””â”€â”€â”€â”€â”€â”€â–¶ REFERRED (Request more info)</div>
  <p><strong>Fulfillment Types:</strong></p>
  <ul>
    <li><strong>Repair:</strong> Inspection â†’ Quote â†’ Approval â†’ Repair â†’ Return</li>
    <li><strong>Voucher:</strong> Value calculated â†’ Code generated â†’ Sent to customer</li>
    <li><strong>Replacement:</strong> Stock check â†’ Dispatch â†’ Delivery confirmation</li>
    <li><strong>Cash:</strong> Amount agreed â†’ Payment processed</li>
  </ul>
  
  <h3>Complaint Handling</h3>
  <div class="workflow-diagram">OPEN â”€â”€â”€â”€â”€â”€â–¶ IN PROGRESS â”€â”€â”€â”€â”€â”€â–¶ RESOLVED
                  â”‚
                  â–¼
             ESCALATED</div>

  <h2 id="troubleshooting">9. Troubleshooting Tips</h2>
  
  <h3>Common Setup Issues</h3>
  <table class="troubleshooting-table">
    <tr><th>Issue</th><th>Solution</th></tr>
    <tr><td>"No policies found"</td><td>Run seed data, check RLS policies are correctly applied</td></tr>
    <tr><td>"Permission denied"</td><td>Verify user role assignment in user_roles table</td></tr>
    <tr><td>"Edge function error"</td><td>Check that all secrets are configured in Supabase</td></tr>
    <tr><td>"Email not sent"</td><td>Verify SENDGRID_API_KEY is set and valid</td></tr>
  </table>
  
  <h3>RLS Permission Errors</h3>
  <p><strong>Symptoms:</strong> Empty data queries, "Row level security" errors, unexpected null results</p>
  <p><strong>Debugging Steps:</strong></p>
  <ol>
    <li>Check user is authenticated</li>
    <li>Verify role in user_roles table</li>
    <li>Check program access in user_program_permissions</li>
    <li>Test RLS policies directly in SQL Editor</li>
  </ol>
  
  <h3>Edge Function Debugging</h3>
  <p><strong>View Logs:</strong> <code>supabase functions logs &lt;function-name&gt; --tail</code></p>
  <p><strong>Common Issues:</strong></p>
  <ul>
    <li>Missing secrets â†’ Add in Supabase Dashboard â†’ Edge Functions â†’ Secrets</li>
    <li>CORS errors â†’ Check function returns proper CORS headers</li>
    <li>Timeout â†’ Increase memory/timeout limits in deployment</li>
  </ul>
  
  <h3>Demo Data Reset</h3>
  <p>To reset demo data: Navigate to /seed-data and re-run seed functions.</p>
  <p><strong>SQL to Clear Data (respect foreign key order):</strong></p>
  <pre>DELETE FROM claim_fulfillment;
DELETE FROM claims;
DELETE FROM complaints;
DELETE FROM service_requests;
DELETE FROM policies;
DELETE FROM user_roles WHERE role != 'system_admin';</pre>

  <h2>Appendix: Quick Reference URLs</h2>
  
  <table>
    <tr><th>Page</th><th>Route</th><th>Description</th></tr>
    <tr><td>Customer Login</td><td>/auth</td><td>Customer authentication</td></tr>
    <tr><td>Dashboard</td><td>/dashboard</td><td>Customer home</td></tr>
    <tr><td>Policies</td><td>/policies</td><td>Customer policies</td></tr>
    <tr><td>Claims</td><td>/claims</td><td>Customer claims</td></tr>
    <tr><td>Submit Claim</td><td>/claim-submission</td><td>New claim form</td></tr>
    <tr><td>Retail Login</td><td>/retail</td><td>Staff authentication</td></tr>
    <tr><td>Retail Dashboard</td><td>/retail/dashboard</td><td>Staff home</td></tr>
    <tr><td>Sales</td><td>/retail/sales</td><td>New policy sale</td></tr>
    <tr><td>Policy Search</td><td>/retail/policy-search</td><td>Find policies</td></tr>
    <tr><td>Claims Mgmt</td><td>/retail/claims-management</td><td>Process claims</td></tr>
    <tr><td>Programs</td><td>/programs</td><td>Admin: Programs list</td></tr>
    <tr><td>Devices</td><td>/device-details</td><td>Admin: Device catalog</td></tr>
    <tr><td>Seed Data</td><td>/seed-data</td><td>Setup: Demo data</td></tr>
    <tr><td>Setup Admin</td><td>/setup-system-admin</td><td>Setup: First admin</td></tr>
  </table>

  <div class="footer">
    <p>EIP Care Portal - Quick Start & Demo Guide</p>
    <p>For technical details, see SYSTEM_ARCHITECTURE.md and DATABASE_SCHEMA.md</p>
  </div>

</body>
</html>